function t(e=document){let n=[];return e.querySelectorAll("*").forEach(e=>{e.shadowRoot&&(n.push(e),n=n.concat(t(e.shadowRoot)))}),n}const e=function(e,n=document){let o=Array.from(n.querySelectorAll(e));return t().forEach(t=>{const n=t.shadowRoot;n&&(o=o.concat(Array.from(n.querySelectorAll(e))))}),o};async function n(t,n){const o={timeoutMs:0,pollMs:0,refinedSearch:()=>!0,...n};return new Promise((n,c)=>{const r=Date.now();let a=0;const i=async()=>{const u=e(t).find(o.refinedSearch);return u?n(u):o.timeoutMs>=0&&(a=Date.now()-r,a>=o.timeoutMs)?c(`The element couldn't be found after ${o.timeoutMs}ms of trying.`):(await async function(t){return new Promise(e=>setTimeout(e,t))}(o.pollMs),void requestAnimationFrame(i))};requestAnimationFrame(i)})}function o(){return window.location.href.includes("shorts")}async function c(){try{return await n("#container video",{pollMs:100,timeoutMs:4e3,refinedSearch:t=>function(t){const e=t.getBoundingClientRect();return e.top<(window.innerHeight||document.documentElement.clientHeight)&&e.bottom>0&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.right>0}(t)})}catch{}}async function r(t=5){const e=await c();e&&(e.currentTime=Math.max(0,e.currentTime-t))}async function a(t=5){const e=await c();e&&(e.currentTime=Math.min(e.duration,e.currentTime+t))}function i(){window.addEventListener("keydown",async function(t){"ArrowLeft"===t.key?(t.preventDefault(),o()?r(t.ctrlKey?2:5):t.ctrlKey&&r(2)):"ArrowRight"===t.key&&(t.preventDefault(),o()?a(t.ctrlKey?2:5):t.ctrlKey&&a(2)),t.shiftKey&&"<"===t.key&&o()?(console.log("ok"),t.preventDefault(),async function(){const t=await c();t&&(t.playbackRate=Math.max(.25,t.playbackRate-.25))}()):t.shiftKey&&">"===t.key&&o()&&(t.preventDefault(),async function(){const t=await c();t&&(t.playbackRate=Math.min(16,t.playbackRate+.25))}())})}!async function(){i()}();
